  
 <div class="box-content">
                  <p style="margin:10px;margin-left:0px;">If you already have an account with us, please login at the <a href="/login">login page</a>.</p>
                  <h2>My Account</h2>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                      <%= f.fields_for :ship_address, Spree::Address.default(resource, 'ship') do |ff| %>
                        <tr>
                          <td><span class="required">*</span> First Name:</td>
                          <td><%= ff.text_field :firstname ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required">*</span> Last Name:</td>
                          <td><%= ff.text_field :lastname ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required">*</span> E-Mail:</td>
                          <td><%= f.text_field :email ,:style => "width: 120px !important;" %></td>
                        </tr>
                      </tbody>
                     
                    </table>
                  </div>
                  <h2>Company details</h2>
                  <% @countries = Rails.configuration.countries%>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                        <tr>
                          <td><span class="required">*</span> Account type:</td>
                           <td>
                            <input type="radio"  name="spree_user[accounttype]" value="0">Individual
                            <input type="radio"  name="spree_user[accounttype]" value="1" class="m-l-10">Company
                          
                          </td>
                        </tr>
                       <tr>
                          <td><span class="required">*</span> Company name:</td>
                          <td><%= f.text_field :actcompanyname ,:style => "width: 120px !important;"%></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span>Registered Number:</td>
                          <td><%= f.text_field :registerednumber ,:style => "width: 120px !important;" %></td>
                        </tr>
                        
                        <tr>
                          <td><span class="required">*</span> Country of registration:</td>
                          <td><%= f.collection_select :countryregistration, @countries, :id, :name, {}, {:class => 'select2 fullwidth',:style => "width: 200px !important;"} %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span>VAT Number:</td>
                          <td><%= f.text_field :vat ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span>No. of years in business:</td>
                          <td><%= f.text_field :years ,:style => "width: 120px !important;" %></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <h2>Your Address</h2>
                  <div class="content_oc">
                   
                    <table class="form">
                      <tbody>
                       <tr>
                          <td><span class="required">*</span> Street Address:</td>
                          <td><%= ff.text_field :address1 ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span> Suburb:</td>
                          <td><%= ff.text_field :address2 ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required">*</span> Post Code:</td>
                          <td><%= ff.text_field :zipcode ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required" id="postcode-required">*</span> City:</td>
                          <td><%= ff.text_field :city ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required">*</span> Country:</td>
                          <td> <%= ff.collection_select :country_id, @countries, :id, :name, {}, {:class => 'select2 fullwidth',:style => "width: 200px !important;"} %>
                          </td>
                        </tr>
                        <tr>
                          <td><span class="required" id="statelabel">*</span> Region / State:</td>
                          <td> <%= ff.text_field :state_name,:style => "display: #{ff.object.country.states.empty? ? 'block' : 'none' };width: 200px !important;",:disabled => !ff.object.country.states.empty?, :class => 'fullwidth state_name' %>
                                <%= ff.collection_select :state_id, ff.object.country.states.sort, :id, :name, {:include_blank => true}, {:class => 'select2 fullwidth', :style => "width: 200px !important;display: #{ff.object.country.states.empty? ? 'none' : 'block' };", :disabled => ff.object.country.states.empty?} %>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                    
                  </div>
                  <h2>Office Address (if different from above)</h2>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                       <tr>
                          <td><span class="required"></span>Street Address:</td>
                          <td><%= f.text_field :othstreet ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span>Suburb:</td>
                          <td><%= f.text_field :othsuburb ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span>Post Code:</td>
                          <td><%= f.text_field :othpostalcode ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required" id="postcode-required"></span>City:</td>
                          <td><%= f.text_field :othcity ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required"></span> Country:</td>
                          <td> <%= f.collection_select :othcountry, @countries, :id, :name, {}, {:class => 'select2 fullwidth',:style => "width: 200px !important;"} %><td>
                         </td>
                        </tr>
                        <tr>
                          <td><span class="required" id="statelabel1"></span> Region / State:</td>
                          <td><%= f.text_field :othstate,:style => "display: #{ff.object.country.states.empty? ? 'block' : 'none' };width: 200px !important;",:disabled => !ff.object.country.states.empty?, :class => 'fullwidth state_name' %>
                              <%= f.collection_select :othstate, ff.object.country.states.sort, :id, :name, {:include_blank => true}, {:class => 'select2 fullwidth', :style => "width: 200px !important;display: #{ff.object.country.states.empty? ? 'none' : 'block' };", :disabled => ff.object.country.states.empty?} %>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <h2>Your Contact Information</h2>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                       
	                        <tr>
	                          <td><span class="required">*</span> Telephone:</td>
	                          <td><%= ff.text_field :phone ,:style => "width: 120px !important;" %></td>
	                        </tr>
                        <%end%>
                        <tr>
                          <td>Fax:</td>
                          <td><%= f.text_field :fax ,:style => "width: 120px !important;" %></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <h2>Your Password</h2>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                        <tr>
                          <td><span class="required">*</span> Password:</td>
                          <td><%= f.password_field :password ,:style => "width: 120px !important;" %></td>
                        </tr>
                        <tr>
                          <td><span class="required">*</span> Password Confirm:</td>
                          <td><%= f.password_field :password_confirmation ,:style => "width: 120px !important;" %></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>


                  <h2>Newsletter</h2>
                  <div class="content_oc">
                    <table class="form">
                      <tbody>
                        <tr>
                          <td>Subscribe:</td>
                          <td>
                           <input type="radio"  value="1" name="spree_user[newsletter]">
                            Yes
                            <input type="radio" value="0"  name="spree_user[newsletter]" class="m-l-10">
                            No </td>
                        </tr>
                      </tbody>
                    </table>
                    
                  </div>
                  <div id="checkboxerror" style="display:none;color:#FF0000;">Please check the Privacy Policy</div>
                  <div class="buttons">
                    <div class="right">I have read and agree to the <a alt="Privacy Policy" href="#" class="colorbox cboxElement"><b>Privacy Policy</b></a>
                      <input type="checkbox" value="1" name="agree" id ="chkterms" >
                      <input type="submit" class="btn btn-primary m-l-10" value="Continue" onclick="javascript:return isCheckedById();">
                    </div>
                  </div>
                
                </div>
                
               
             
            </div>         
                
              </div>
              
              <script type="text/javascript">
			    function isCheckedById() {
			        var checkedprop = $('#chkterms').prop("checked");
			
			        if (checkedprop) {
			            $("#checkboxerror").hide();
			            return true;
			        } else {
			            $("#checkboxerror").show();
			            return false;
			        }
			    }

    $(function() {
       $("input[type=radio][name='spree_user[accounttype]']").change(function() {
      
            if ($(this).val()  == '0') {
                 $("input[type=text][name='spree_user[actcompanyname]']").parent().parent().hide();
                 $("input[type=text][name='spree_user[registerednumber]']").parent().parent().hide();
                 $("input[type=text][name='spree_user[vat]']").parent().parent().hide();
                 $("select[name='spree_user[countryregistration]']").parent().parent().hide();
                 $("input[type=text][name='spree_user[years]']").parent().parent().hide();
            }
            else {
                 $("input[type=text][name='spree_user[actcompanyname]']").parent().parent().show();
                 $("input[type=text][name='spree_user[registerednumber]']").parent().parent().show();
                 $("input[type=text][name='spree_user[vat]']").parent().parent().show();
                 $("select[name='spree_user[countryregistration]']").parent().parent().show();
                 $("input[type=text][name='spree_user[years]']").parent().parent().show();
                
            }
        });
         
        
        $('#spree_user_ship_address_attributes_country_id').change(function() {
            if ($(this).val() == "49") {
                $('#spree_user_ship_address_attributes_state_id').show();
                $('#statelabel').parent().show();
            } 
            else {
                $('#spree_user_ship_address_attributes_state_id').hide();
                $('#statelabel').parent().hide();
            }
            });
         $('#spree_user_othcountry').change(function() {
            if ($(this).val() == "49") {
               // $('#spree_user_othstate').show();
                $('#spree_user_othstate').next().show();
                $('#statelabel1').parent().show();
            } 
            else {
                $('#spree_user_othstate').next().hide();
                 $('#spree_user_othstate').hide();
                $('#statelabel1').parent().hide();
            }
        });
        });
   
</script>