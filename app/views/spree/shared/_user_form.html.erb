<script type="text/javascript" charset="utf-8">
    $(function() {
        $('input[type=radio][name=accounttype]').change(function() {
            if (this.value == 'individual') {
                $('.officeaddress').hide();
                $('#youraddress').removeClass('col-md-6').addClass('col-md-12')
            }
            else {
                $('.officeaddress').show();
                $('#youraddress').removeClass('col-md-12').addClass('col-md-6')
            }
        });
        
        $('.country').change(function() {
            if ($(this).val() == "49") {
                $(this).parents('table').find('.state').show();
            } 
            else {
                $(this).parents('table').find('.state').hide();
            }
        });
    });
</script>
<h2>My Personal Details</h2>
<div class="content_oc">
  <table class="form">
    <tbody>
    <%= f.fields_for :ship_address, Spree::Address.default(resource, 'ship') do |ff| %>
        <tr>
          <td><span class="required">*</span><%= ff.label :firstname, Spree.t(:firstname) %></td>
          <td><%= ff.email_field :firstname %></td>
        </tr>
        <tr>
          <td><span class="required">*</span><%= ff.label :lastname, Spree.t(:lastname) %></td>
          <td><%= ff.email_field :lastname %></td>
        </tr>
    <% end %>
    <tr>
      <td><span class="required">*</span><%= f.label :email, Spree.t(:email) %></td>
      <td><%= f.email_field :email %></td>
    </tr>
    <tr>
      <td><span class="required">*</span><%= f.label :password, Spree.t(:password) %></td>
      <td><%= f.password_field :password %></td>
    </tr>
    <tr>
      <td><span class="required">*</span><%= f.label :password_confirmation, Spree.t(:confirm_password) %></td>
      <td><%= f.password_field :password_confirmation %></td>
    </tr>
    <tr>
      <td><span class="required">*</span> Account type:</td>
      <td><input type="radio" value="individual" name="accounttype" <%= params[:accounttype].to_s != 'company' ? "checked='checked'" : "" %>>
        Individual
        <input type="radio" value="company" name="accounttype" class="m-l-10" <%= params[:accounttype].to_s == 'company' ? "checked='checked'" : "" %>>
        Company
      </td>
    </tr>
    </tbody>
  </table>
</div>

<div>
  <div id="youraddress" class="col-md-12" style="padding-left:0;">
    <h2>Your Address</h2>

    <div class="content_oc">
      <%= f.fields_for :ship_address, Spree::Address.default(resource, 'ship') do |ff| %>
          <%= render 'spree/address/form', form: ff, address_type: "shipping", include_name: false  %>
      <% end %>
    </div>
  </div>

  <div class="col-md-6 officeaddress" style="padding-right:0; display: <%= params[:accounttype] != 'company' ? 'none' : 'block' %>">
    <h2>Office Address</h2>

    <div class="content_oc">
      <%= f.fields_for :bill_address, Spree::Address.default(resource, 'bill') do |ff| %>
          <%= render 'spree/address/form', form: ff, address_type: "billing", include_name: true  %>
      <% end %>
    </div>
  </div>
</div>

<div class="col-md-12" style="padding-left:0;">

<h2>Newsletter</h2>
<div class="content_oc">
  <table class="form">
    <tbody>
    <tr>
      <td>Subscribe:</td>
      <td><%= f.radio_button :newsletter, true, checked: true %>
        Yes
        <%= f.radio_button :newsletter, false %>
        No
      </td>
    </tr>
    </tbody>
  </table>
</div>
</div>